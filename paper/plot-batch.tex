    \begin{tikzpicture}[every mark/.append style={mark size=1.5pt}]
        \begin{groupplot}[group style = {group size = 1 by 1, group name = hamming, vertical sep=2.1cm}, grid = both, grid style={line width=.1pt, draw=gray!30},
    major grid style={line width=.2pt,draw=gray!50},height=6.5cm, width=\textwidth,
              ymin = 0, ymax = 2000000, xtick = {0, 0.25, 0.5, 0.75, 1}, max space between ticks=20]

        \nextgroupplot[
            ylabel={QPS (1/s)},
            ylabel style ={overlay},
            ymode = log,
            yticklabel style={/pgf/number format/fixed,
                              /pgf/number format/precision=3},
            legend style = { at = { (1, 1.25 ) }},
            legend columns = 5
            ]
\addplot coordinates {
                                                (0.28338, 1477752.1756)
                                    (0.37301, 832698.828668)
                                    (0.70343, 655646.845495)
                                    (0.76362, 464856.142217)
                                    (0.87695, 358794.183062)
                                    (0.91279, 246504.810433)
                                    (0.9574, 173090.897086)
                                    (0.97605, 111871.674299)
                                    (0.98584, 101380.747272)
                                    (0.98882, 61130.3188195)
                                    (0.99363, 59330.6617139)
                                    (0.99816, 31690.2109732)
                            };
            \addlegendentry{ FAI-IVF-GPU };
                                \addplot coordinates {
                                                (1.0, 24471.5942374)
                            };
            \addlegendentry{ FAI-GPU-BF };
                                \addplot coordinates {
                                                (0.32781, 59623.916072)
                                    (0.37311, 48826.2185007)
                                    (0.42492, 31545.750056)
                                    (0.6229, 30246.5702847)
                                    (0.68356, 21606.3023602)
                                    (0.70405, 19177.8449304)
                                    (0.76315, 18507.0066932)
                                    (0.81975, 12807.7546952)
                                    (0.93405, 8017.92183418)
                                    (0.96095, 5585.82448731)
                                    (0.97603, 4769.34920272)
                                    (0.9807, 3139.09548363)
                                    (0.98887, 3003.50261506)
                                    (0.99366, 2722.67465935)
                                    (0.99603, 1644.80200631)
                                    (0.9982, 1585.14279348)
                            };
                        \addlegendentry{ FAI-IVF-CPU} ;
                                \addplot coordinates {
                                                (0.05046, 273008.012601)
                                    (0.10477, 227858.427271)
                                    (0.17526, 218131.816125)
                                    (0.23606, 182972.010889)
                                    (0.30827, 158641.995855)
                                    (0.41463, 148544.553053)
                                    (0.48345, 122737.006593)
                                    (0.5682, 120190.961974)
                                    (0.66264, 92958.4531983)
                                    (0.7168, 86425.9662976)
                                    (0.74649, 86023.0649802)
                                    (0.80038, 77320.3455383)
                                    (0.81302, 71716.5060828)
                                    (0.86408, 59079.6968758)
                                    (0.87785, 56784.2975855)
                                    (0.9016, 51493.3587712)
                                    (0.91524, 50023.2446918)
                                    (0.92533, 44443.0504753)
                                    (0.95336, 39641.0074173)
                                    (0.97168, 33124.5286178)
                                    (0.97446, 29879.1953576)
                                    (0.98123, 28174.7270729)
                                    (0.98574, 24842.2536463)
                                    (0.99058, 21934.2470023)
                                    (0.99152, 20741.9378608)
                                    (0.99311, 19539.8726134)
                                    (0.99453, 18159.8566367)
                                    (0.99632, 16204.1967141)
                                    (0.99756, 14676.5086158)
                                    (0.99827, 13307.764648)
                            };
            \addlegendentry{ HNSW (B)};
                                \addplot coordinates {
                                                (0.05133, 158952.219258)
                                    (0.10659, 112803.173536)
                                    (0.12532, 105351.964092)
                                    (0.1708, 81784.8632923)
                                    (0.21775, 79776.6264199)
                                    (0.23362, 75515.6259565)
                                    (0.342, 59100.9250583)
                                    (0.41276, 53335.571383)
                                    (0.50499, 41538.7845488)
                                    (0.56733, 39311.7474933)
                                    (0.66044, 30633.5141704)
                                    (0.67382, 26877.3121047)
                                    (0.71696, 26447.7351433)
                                    (0.74534, 24524.4794334)
                                    (0.79935, 20647.4276519)
                                    (0.81199, 19506.2586182)
                                    (0.86343, 15883.2254774)
                                    (0.87784, 15407.7052044)
                                    (0.90107, 12888.1577047)
                                    (0.9158, 12847.4762236)
                                    (0.92483, 10894.777172)
                                    (0.95296, 9685.39078319)
                                    (0.9717, 7802.39241143)
                                    (0.97441, 7056.67950259)
                                    (0.98118, 6485.38289205)
                                    (0.98597, 5748.56628621)
                                    (0.99068, 4849.03248928)
                                    (0.99181, 4763.14767413)
                                    (0.99323, 4471.76208027)
                                    (0.99476, 4122.57044966)
                                    (0.99644, 3683.1016458)
                                    (0.9976, 3306.24417074)
                                    (0.99829, 3006.18617379)
                                    (0.99885, 2757.67282958)
                                    (0.99932, 2372.69711192)
                                    (0.99955, 2087.85488658)
                                    (0.9997, 1871.84068889)
                                    (0.99984, 1558.72764569)
                            };
            \addlegendentry{ HNSW (NB)};
    \end{groupplot}
\end{tikzpicture}
    \caption{Recall-QPS (1/s) tradeoff - up and to the right is better. Algorithms running 
        batched queries on \textsf{SIFT} with $10$-NN. The plot shows a comparison between FAISS' IVF index 
    	running on a CPU and a GPU, FAISS' brute force index on the GPU, and HNSW from NMSlib running 
    in batched (B) and non-batched mode (NB).}
    \label{plot:batch}
